SceneVariables {
    ["image_width"] = 400,
    ["image_height"] = 150,
    ["pixel_samples"] = 2,
}

Camera("/Scene/rendering/camera") {
    ["node_xform"] = translate(0.0, 0.0, 4.0),
}

geom1 = UsdGeometry("geom1") {
    ["stage"] = rats_assets_dir.."/models/plane.usdc",
    ["node_xform"] = rotate(90, 1, 0, 0) * translate(-1.05, 0.0, 0.0),
    ["prim_path"] = "/plane",
}

geom2 = UsdGeometry("geom2") {
    ["stage"] = rats_assets_dir.."/models/plane.usdc",
    ["node_xform"] = rotate(90, 1, 0, 0) * translate(0.0, 0.0, 0.0),
    ["prim_path"] = "/plane",
}

geom3 = UsdGeometry("geom3") {
    ["stage"] = rats_assets_dir.."/models/plane.usdc",
    ["node_xform"] = rotate(90, 1, 0, 0) * translate(1.05, 0.0, 0.0),
    ["prim_path"] = "/plane",
}

GeometrySet("geometryset") {
    geom1, geom2, geom3
}

uvTrans = UVTransformMap("uvTrans") {
    ["scale"] = Vec2(3.0, 3.0),
}

usdtxmap1 = UsdUVTexture("usdtxmap1") {
    ["file"] = rats_assets_dir.."/textures/color_grid.tx",
    ["st"] = bind(uvTrans),
    ["wrapS"] = "clamp",
    ["wrapT"] = "repeat",
}

usdtxmap2 = UsdUVTexture("usdtxmap2") {
    ["file"] = rats_assets_dir.."/textures/color_grid.tx",
    ["st"] = bind(uvTrans),
    ["wrapS"] = "repeat",
    ["wrapT"] = "clamp",
}

usdtxmap3 = UsdUVTexture("usdtxmap3") {
    ["file"] = rats_assets_dir.."/textures/color_grid.tx",
    ["st"] = bind(uvTrans),
    ["scale"] = Rgb(1.0, 0.5, 1.0),
    ["bias"] = Rgb(0.0, 0.0, 0.5),
}

LightSet("LightSet") {
}

mtl1 = DwaEmissiveMaterial("mtl1") {
    ["emission_color"] = bind(usdtxmap1)
}

mtl2 = DwaEmissiveMaterial("mtl2") {
    ["emission_color"] = bind(usdtxmap2)
}

mtl3 = DwaEmissiveMaterial("mtl3") {
    ["emission_color"] = bind(usdtxmap3)
}

Layer("/Scene/layer") {
    {geom1, "", mtl1, LightSet("LightSet")},
    {geom2, "", mtl2, LightSet("LightSet")},
    {geom3, "", mtl3, LightSet("LightSet")},
}
