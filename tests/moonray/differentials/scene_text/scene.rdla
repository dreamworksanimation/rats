SceneVariables {
    ["max depth"] = 10,
    ["max diffuse depth"] = 2,
    ["max glossy depth"] = 4,
    ["max mirror depth"] = 4,
    ["image width"] = 256,
    ["image height"] = 144,
}

Camera("/Scene/rendering/camera") {
    ["node xform"] = Mat4(1, 0, 0, 0, 0, 0.896479, -0.443087, 0, 0, 0.443087, 0.896479, 0, 0, 21.2076, 34.2088, 1),
    ["focal"] = 30,
    ["film width aperture"] = 24,
}

ImageMap("/Scene/surfacing/text") {
    ["texture"] = rats_assets_dir.."/textures/text-ure.tx",
    ["wrap_around"] = false,
}

SphereGeometry("/Scene/geometry/lens_mirror") {
    ["node xform"] = Mat4(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0.6, 0, -3.61881, 0.987119, 0, 1),
}

SphereGeometry("/Scene/geometry/lens_glass") {
    ["node xform"] = Mat4(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0.6, 0, -10.0358, 3, 0, 1),
}

BoxGeometry("/Scene/geometry/box_glass") {
    ["node xform"] = Mat4(5.71444, 0, 1.82899, 0, 0, 6, 0, 0, -0.152416, 0, 0.476203, 0, 10.8672, 3.01, 0, 1),
}

RdlMeshGeometry("/Scene/geometry/floor") {
    ["node xform"] = Mat4(-30, 0, -3.67394e-15, 0, 0, 1, 0, 0, 2.44929e-15, 0, -20, 0, 0, 0, 0, 1),
    ["vertex_list"] = {Vec3(-0.5, 0.0, 0.5), Vec3(0.5, 0.0, 0.5), Vec3(0.5, 0.0, -0.5), Vec3(-0.5, 0.0, -0.5)},
    ["vertices_by_index"] = {0, 1, 2, 3},
    ["face_vertex_count"] = {4},
    ["is_subd"] = false
}

BoxGeometry("/Scene/geometry/box_mirror") {
    ["node xform"] = Mat4(5.71444, 0, 1.82899, 0, 0, 6, 0, 0, -0.152416, 0, 0.476203, 0, 3.46, 3.01, 0, 1),
}

RdlMeshGeometry("/Scene/geometry/wall_back") {
    ["node xform"] = Mat4(30, 0, 0, 0, 0, 6.12323e-17, 1, 0, 0, -20, 1.22465e-15, 0, 0, 10, -10, 1),
    ["vertex_list"] = {Vec3(-0.5, 0.0, -0.5), Vec3(0.5, 0.0, -0.5), Vec3(0.5, 0.0, 0.5), Vec3(-0.5, 0.0, 0.5)},
    ["vertices_by_index"] = {0, 1, 2, 3},
    ["face_vertex_count"] = {4},
    ["is_subd"] = false
}

SphereGeometry("/Scene/geometry/lens_mirror2") {
    ["node xform"] = Mat4(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0.6, 0, -7.8358, 7.59, -4.15, 1),
}

GeometrySet("geometryset") {
    SphereGeometry("/Scene/geometry/lens_mirror"),
    BoxGeometry("/Scene/geometry/box_mirror"),
    SphereGeometry("/Scene/geometry/lens_mirror2"),
    BoxGeometry("/Scene/geometry/box_glass"),
    RdlMeshGeometry("/Scene/geometry/floor"),
    RdlMeshGeometry("/Scene/geometry/wall_back"),
    SphereGeometry("/Scene/geometry/lens_glass"),
}

DwaRefractiveMaterial("/Scene/surfacing/glass") {
    ["casts caustics"] = true,
    ["roughness"] = 0.0,
    ["transmission_color"] = Rgb(0.82, 1, 0.759),
}

DwaMetalMaterial("/Scene/surfacing/mirror_blue") {
    ["roughness"] = 0,
}

DwaSolidDielectricMaterial("/Scene/surfacing/floor") {
    ["albedo"] = bind(ImageMap("/Scene/surfacing/text"), Rgb(1, 1, 1)),
    ["roughness"] = 0.8,
    ["refractive_index"] = 1.4,
}

DwaMetalMaterial("/Scene/surfacing/wall") {
    ["roughness"] = 0.173205,
}

EnvLight("/Scene/lighting/env") {
    ["exposure"] = -1.5,
    ["texture"] = rats_assets_dir.."/hdri/gld_neutral_GI_HS5000_PF_hdr.exr",
}

LightSet("LS_15193349465605712651") {
    EnvLight("/Scene/lighting/env"),
}

Layer("/Scene/rendering/org/perPartitionAssignments") {
    {SphereGeometry("/Scene/geometry/lens_glass"), "", DwaRefractiveMaterial("/Scene/surfacing/glass"), LightSet("LS_15193349465605712651")},
    {RdlMeshGeometry("/Scene/geometry/wall_back"), "", DwaMetalMaterial("/Scene/surfacing/wall"), LightSet("LS_15193349465605712651")},
    {RdlMeshGeometry("/Scene/geometry/floor"), "", DwaSolidDielectricMaterial("/Scene/surfacing/floor"), LightSet("LS_15193349465605712651")},
    {BoxGeometry("/Scene/geometry/box_glass"), "", DwaRefractiveMaterial("/Scene/surfacing/glass"), LightSet("LS_15193349465605712651")},
    {SphereGeometry("/Scene/geometry/lens_mirror2"), "", DwaMetalMaterial("/Scene/surfacing/mirror_blue"), LightSet("LS_15193349465605712651")},
    {BoxGeometry("/Scene/geometry/box_mirror"), "", DwaMetalMaterial("/Scene/surfacing/mirror_blue"), LightSet("LS_15193349465605712651")},
    {SphereGeometry("/Scene/geometry/lens_mirror"), "", DwaMetalMaterial("/Scene/surfacing/mirror_blue"), LightSet("LS_15193349465605712651")},
}
