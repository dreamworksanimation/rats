SceneVariables {
    ["image_width"] = 256,
    ["image_height"] = 200,
    ["pixel_samples"] = 2,
}

Camera("/Scene/rendering/camera") {
    ["node_xform"] = translate(0.0, 3.5, 16.0),
}

-----------------------------------------------------------

env = EnvLight("/Scene/lighting/env") {
    ["exposure"] = -1.0,
    ["texture"] = rats_assets_dir .. "/hdri/parkinglot_dusk.exr",
    ["visible_in_camera"] = 1,
}

key = RectLight("/Scene/lighting/key") {
    ["node_xform"] = translate(0, 0, 50) *
                     rotate(-30, 1, 0, 0) *
                     rotate(-50, 0, 1, 0),
    ["exposure"] = 0.0,
    ["width"] = 0.1,
    ["height"] = 0.1,
    ["visible_in_camera"] = 1,
}

lightSet = LightSet("/Scene/lighting/lightSet") {
    env,
    key,
}

-----------------------------------------------------------

geom1 = UsdGeometry("/Scene/geometry/geom1") {
    ["stage"] = rats_assets_dir .. "/models/MoonRayWidget.usdc",
    ["prim_path"] = "/widget",
}

GeometrySet("Scene/geometrySet") {
    geom1
}

-----------------------------------------------------------

toonMtl = DwaToonMaterial("toonMtl") {
    ["diffuse_model"] = "oren-nayar",
    ["diffuse_flatness"] = 0.9,
    ["terminator_shift"] = 0.0,
    ["specular_model"] = 0,
}

-----------------------------------------------------------

Layer("/Scene/rendering/all") {
    {geom1, "", toonMtl, lightSet},
}
